(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{132:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var a=n(133),r=function(e,t,n,a,r,l,o,c){return{id:e&&0,username:t,firstName:n,lastName:a,email:r,password:l,phone:o,userStatus:c&&0}},l=function(e,t,n,a,r,l){return{id:e,petId:t,quantity:n,shipDate:a,status:r,complete:l}}},144:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(35),l=n(16),o=n(0),c=n.n(o),i=n(13),u=o.createContext({}),d=function(){var e=Object(o.useContext)(u),t=e.cancelAuthorization,n=e.userInfo;return c.a.createElement("div",{className:"profile"},c.a.createElement("div",null,c.a.createElement("h2",null,(null==n?void 0:n.lastName)?n.lastName:"Иванов"),c.a.createElement("h2",null,(null==n?void 0:n.firstName)?n.firstName:"Иван")),c.a.createElement("button",{onClick:function(){t&&t()}},"Выйти"))},m=n(132),s=n(75),f=n.n(s),p=[{id:"placed",name:"Размещен"},{id:"approved",name:"Одобрен"},{id:"delivered",name:"Доставлен"}],v=function(e){var t,n=e.orderInfo,a=e.handleDelete,r=e.onEditMode;return o.createElement("div",null,o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Номер заказа:  "),o.createElement("p",null,null==n?void 0:n.id)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("p",null,Object(m.a)(null==n?void 0:n.shipDate,"dd.mm.yy"))),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("p",null,null==n?void 0:n.quantity)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("p",null,null===(t=p.find((function(e){return e.id==(null==n?void 0:n.status)})))||void 0===t?void 0:t.name)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус:  "),o.createElement("p",null,(null==n?void 0:n.complete)?"Заказ завершен":"Заказ не завершен")),o.createElement("span",{className:"buttonSaveAndEdit"},o.createElement("button",{className:"edit",onClick:r},"Изменить заказ"),o.createElement("button",{className:"remove",onClick:a},"Отменить заказ")))},E=function(e){var t=e.petId,n=e.quantity,a=e.shipDate,r=e.status,l=e.complite,c=e.isValid,i=e.handleChange,u=e.handleValid,d=e.handleUpdate,m=e.handleComplite,s=e.handleUncomplite;return o.createElement("div",null,o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Номер животного:  "),o.createElement("input",{min:1,type:"number",name:"petId",value:t,onChange:i,onKeyUp:u})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("input",{type:"datetime-local",name:"shipDate",value:a,onChange:i})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("input",{min:1,type:"number",name:"quantity",value:n,onChange:i,onKeyUp:u})),o.createElement("span",{className:"textRow radioRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"placed",checked:"placed"==r,onChange:i}),o.createElement("label",null,"Размещен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"approved",checked:"approved"==r,onChange:i}),o.createElement("label",null,"Одобрен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"delivered",checked:"delivered"==r,onChange:i}),o.createElement("label",null,"Доставлен"))),o.createElement("span",{className:"textRow buttonRow"},o.createElement("h2",null,"Статус заказа:   "),o.createElement("span",{className:"buttonGroup"},o.createElement("button",{onClick:m,className:l?"compliteOrder":""},"Завершен"),o.createElement("button",{onClick:s,className:l?"":"uncompliteOrder"},"Незавершен"))),o.createElement("span",{className:"buttonSaveEdit"},o.createElement("button",{className:c?"buttonColor":"",onClick:d},"Сохранить")))};function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e){var t=o.useContext(u),n=t.getOrder,a=t.orderInfo,r=t.loadingOrder,l=t.errorOrder,c=t.deleteOrder,i=t.updateOrder,d=b(o.useState(0),2),s=d[0],p=d[1],h=b(o.useState(0),2),y=h[0],g=h[1],S=b(o.useState(0),2),O=S[0],N=S[1],w=b(o.useState(""),2),A=w[0],C=w[1],x=b(o.useState("placed"),2),j=x[0],I=x[1],k=b(o.useState(!1),2),R=k[0],M=k[1],D=b(o.useState(!1),2),U=D[0],P=D[1],V=b(o.useState(!0),2),q=V[0],F=V[1];o.useEffect((function(){null!=a&&(g(null==a?void 0:a.petId),N(null==a?void 0:a.quantity),C(a.shipDate.slice(0,16)),I(a.status),M(a.complete))}),[a]);var T=function(e){switch(e.target.name){case"search":p(Number(e.target.value));break;case"petId":e.target.value&&g(Number(e.target.value)),e.target.value||g(void 0),"0"===e.target.value&&g(1);break;case"quantity":e.target.value&&N(Number(e.target.value)),e.target.value||N(void 0),"0"===e.target.value&&N(1);break;case"shipDate":C(e.target.value);break;case"status":"placed"!=e.target.value&&"approved"!=e.target.value&&"delivered"!=e.target.value||I(e.target.value)}};return o.createElement("div",{className:"ordersBlock"},o.createElement("div",{className:"search"},o.createElement("form",{onSubmit:function(e){n&&n(s),e.preventDefault()}},o.createElement("input",{name:"search",type:"text",placeholder:"Номер заказа",value:s||"",onChange:T}),o.createElement("button",{type:"submit"},"Найти"))),r?o.createElement(f.a,{type:"spin",color:"red",height:"30%",width:"30%",className:"loadingOrder"}):o.createElement(o.Fragment,null,null!==a?U?o.createElement(E,{petId:y,quantity:O,shipDate:A,status:j,complite:R,isValid:q,handleChange:T,handleValid:function(){F(void 0!==y&&void 0!==O)},handleUpdate:function(){i&&void 0!==a&&void 0!==y&&void 0!==O&&i(Object(m.c)(s,y,O,A,j,R)),P(!1)},handleComplite:function(){return M(!0)},handleUncomplite:function(){return M(!1)}}):o.createElement(v,{orderInfo:a,handleDelete:function(){c&&c(s)},onEditMode:function(){return P(!0)}}):404==l&&o.createElement("h1",null,"Заказ не найден")))},g=function(e){var t=e.color;return o.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 773 773",width:"50px",fill:t},o.createElement("path",{d:"M386.5,215.67A74.94,74.94,0,0,0,312.73,278H460.27A74.94,74.94,0,0,0,386.5,215.67Z"}),o.createElement("path",{d:"M386.5,9c-207.11,0-375,167.89-375,375s167.89,375,375,375,375-167.89,375-375S593.61,9,386.5,9ZM539.24,552.33H523.66v15.58a15.59,15.59,0,0,1-31.18,0V552.33H476.9a15.59,15.59,0,1,1,0-31.17h15.58V505.57a15.59,15.59,0,0,1,31.18,0v15.59h15.58a15.59,15.59,0,1,1,0,31.17Zm15.59-109.1a15.59,15.59,0,0,1-31.17,0v-134H492.48V356a15.59,15.59,0,0,1-31.17,0V309.19H311.69V356a15.59,15.59,0,0,1-31.17,0V309.19H249.34V552.33H414.55a15.59,15.59,0,1,1,0,31.17H233.76a15.59,15.59,0,0,1-15.59-15.59V293.6A15.58,15.58,0,0,1,233.76,278h47.49a106,106,0,0,1,210.5,0h47.49a15.58,15.58,0,0,1,15.59,15.58Z"}),o.createElement("ellipse",{cx:"378.5",cy:"391",rx:"2.5",ry:"3"}))},S=function(e){var t=e.color;return o.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 300 300",width:"50px",height:"50px",fill:t},o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003    S232.835,0,149.996,0z M221.302,107.945l-14.247,14.247l-29.001-28.999l-11.002,11.002l29.001,29.001l-71.132,71.126    l-28.999-28.996L84.92,186.328l28.999,28.999l-7.088,7.088l-0.135-0.135c-0.786,1.294-2.064,2.238-3.582,2.575l-27.043,6.03    c-0.405,0.091-0.817,0.135-1.224,0.135c-1.476,0-2.91-0.581-3.973-1.647c-1.364-1.359-1.932-3.322-1.512-5.203l6.027-27.035    c0.34-1.517,1.286-2.798,2.578-3.582l-0.137-0.137L192.3,78.941c1.678-1.675,4.404-1.675,6.082,0.005l22.922,22.917    C222.982,103.541,222.982,106.267,221.302,107.945z","data-original":"#000000","data-old_color":"#000000",fill:"#FFFFFF"}))))," ")},O=n(142),N=n.p+"2187f335984c21a5d185af743300b3e5.png",w=n(28);function A(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t=e.info,n=e.modalOpen,a=e.id,r=e.url,l=C(o.useState("#ffffff"),2),c=l[0],i=l[1],d=C(o.useState(!1),2),m=d[0],s=d[1],f=C(o.useState(["def"]),2),p=f[0],v=f[1],E=o.useContext(u),b=E.admin,h=E.addEditable;o.useEffect((function(){r.length>=1&&v(A(r))}),[r]);var y=function(){p.length>1&&v(A(p.slice(1))),1!=p.length||m||(console.log("длинна один"),v([N]),s(!0))};return o.createElement("div",{className:"pet"},o.createElement(O.a,{defaultControlsConfig:{nextButtonText:">",prevButtonText:"<",pagingDotsStyle:{fill:"#сссссс"}}},p.map((function(e,t){return o.createElement("img",{key:t,src:e,onError:y,className:"imgPet"})}))),o.createElement("div",{className:"footerPet"},void 0!==t&&void 0!==t.category?o.createElement("span",{className:"namePet"},o.createElement("h3",null,void 0!==t.category.name?t.category.name:"Животное"),o.createElement("h3",null,void 0!==t.name?t.name:"Name")):o.createElement("h3",null,"Данные отсутсвуют"),b?o.createElement(w.b,{to:"/edit",onClick:function(){h&&h(t)}},o.createElement(S,{color:c})):o.createElement("span",{onClick:function(){void 0!==t.category.name&&void 0!==t.name&&void 0!==t&&n({id:a,cName:t.category.name,name:t.name,quantity:0})},onMouseDown:function(){return i("#ff1744")},onMouseUp:function(){return i("#ffffff")}},o.createElement(g,{color:c}))))},k=n(141),R=n(26);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U=function(e){var t=e.data,n=e.modalClose,a=e.handleModalSend,r=e.quantity,l=e.handleEdit,c=M(o.useState(!0),2),i=c[0],u=c[1];return null!==t?o.createElement("div",{className:"modalOverlay"},o.createElement("div",{className:"modal"},o.createElement("h1",null,t.cName),o.createElement("h2",null,t.name),o.createElement("label",null,"Количество"),o.createElement("input",{min:1,type:"number",value:r,onChange:l,onKeyUp:function(){u(void 0!==r)},placeholder:"Количество"}),o.createElement("span",{className:"buttonSaveAndEdit"},o.createElement("button",{className:i?"edit":"",onClick:a,disabled:!i},"Заказать"),o.createElement("button",{className:"remove",onClick:n},"Отменить")))):o.createElement("h1",null,"В данный момент товар заказать нельзя")},P=function(e){var t=e.text;return o.createElement("div",{className:"modalOverlay"},o.createElement("div",{className:"modalMessage"},o.createElement("h1",null,t),o.createElement("h2",null,'Отследить ваш заказ можнно во вкладке "Заказ"')))};function V(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var H=function(){var e=o.useContext(u),t=e.petData,n=e.addOrder,a=q(o.useState([]),2),r=a[0],l=a[1],c=q(o.useState(!0),2),i=c[0],d=c[1],s=q(o.useState(12),2),f=s[0],p=s[1],v=q(o.useState(24),2),E=v[0],b=v[1],h=q(o.useState(!1),2),y=h[0],g=h[1],S=q(o.useState(null),2),O=S[0],N=S[1],w=q(o.useState(1),2),A=w[0],C=w[1],x=q(o.useState(!1),2),j=x[0],M=x[1],D=q(o.useState(1),2),F=D[0],T=D[1];o.useEffect((function(){l(void 0!==t?V(t.slice(0,12)):[])}),[t]);var H=function(e){g(!0),N(e)},z=function(){g(!1),N(null),C(1),setTimeout((function(){M(!1),T(1)}),3e3)};return o.createElement(o.Fragment,null,void 0!==t?o.createElement(k.a,{className:"infiniteScroll",dataLength:r.length,next:function(){if(void 0!==t){if(r.length>=(null==t?void 0:t.length))return void d(!1);l([].concat(V(r),V(t.slice(f,E)))),p(E),b(E+12)}},hasMore:i,loader:o.createElement(R.a,null),endMessage:o.createElement("p",{style:{textAlign:"center"}},o.createElement("b",null,"Yay! You have seen it all"))},o.createElement("div",{className:"pets"},r.length>=1&&r.map((function(e,t){return o.createElement(I,{key:t,id:e.id,info:e,url:e.photoUrls,modalOpen:H})})))):o.createElement("h1",null,"Пусто"),y&&o.createElement(U,{data:O,handleModalSend:function(){if(null!==O&&void 0!==A){console.log("отправляю");var e=Math.floor(Math.random()*Math.floor(10))+1;T(e);var t=new Date;t.setDate(t.getDate()+10),n&&n(Object(m.c)(e,Number(O.id),A,t.toISOString(),"placed",!1)),z(),M(!0)}},modalClose:z,quantity:A,handleEdit:function(e){e.target.value&&C(Number(e.target.value)),e.target.value||C(void 0),"0"===e.target.value&&C(1)}}),j&&o.createElement(P,{text:"Номер вашего заказа ".concat(F)}))},z=function(e){var t=e.admin,n=Object(i.h)().path;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{exact:!0,path:"".concat(n)},c.a.createElement(H,null)),c.a.createElement(i.b,{path:"".concat(n,"order")},c.a.createElement(y,null)),c.a.createElement(i.b,{path:"".concat(n,"edit")},t?c.a.createElement("h1",null,"petedit"):c.a.createElement(i.a,{to:"".concat(n)})),c.a.createElement(i.b,{path:"".concat(n,"profile")},c.a.createElement(d,null)))},B=function(e){var t=e.admin,n=e.startAdmin,a=e.stopAdmin,r=Object(i.h)().url;return o.createElement("nav",null,o.createElement("div",null,o.createElement(w.b,{to:"".concat(r)},"Главная")),o.createElement("div",null,o.createElement(w.b,{to:"".concat(r,"order")},"Заказы")),o.createElement("div",{className:"admin"},o.createElement("button",{className:t?"on":"",onClick:n},"on Admin"),o.createElement("button",{className:t?"":"off",onClick:a},"off Admin")),o.createElement("div",null,o.createElement(w.b,{to:"".concat(r,"profile")},"Профиль")))},L=function(e){var t=e.cancelAuthorization,n=e.userInfo,a=e.getOrder,r=e.orderInfo,l=e.loadingOrder,c=e.errorOrder,i=e.addOrder,d=e.deleteOrder,m=e.updateOrder,s=e.petData,f=e.getPetInfo,p=e.loadingPets,v=e.admin,E=e.startAdmin,b=e.stopAdmin,h=e.editablePet,y=e.addEditable,g=e.cleanEditable;return o.useEffect((function(){f&&f("available")}),[]),o.createElement(o.Fragment,null,o.createElement(u.Provider,{value:{cancelAuthorization:t,userInfo:n,getOrder:a,orderInfo:r,loadingOrder:l,errorOrder:c,deleteOrder:d,addOrder:i,updateOrder:m,petData:s,admin:v,editablePet:h,addEditable:y,cleanEditable:g}},o.createElement(B,{admin:v,startAdmin:E,stopAdmin:b}),p?o.createElement(R.a,null):o.createElement(z,{admin:v})))},Z=n(17),$=n(18),K=n(48),_=n(49);t.default=Object(r.b)((function(e){return{userInfo:e.userReducer.info,orderInfo:e.orderReducer.info,loadingOrder:e.orderReducer.loading,errorOrder:e.orderReducer.error,petData:e.petReducer.info,loadingPets:e.petReducer.loading,admin:e.adminReducer,editablePet:e.editablePetReducer}}),(function(e){return{cancelAuthorization:Object(a.b)(l.b,e),getOrder:Object(a.b)(Z.d,e),addOrder:Object(a.b)(Z.b,e),deleteOrder:Object(a.b)(Z.c,e),updateOrder:Object(a.b)(Z.e,e),getPetInfo:Object(a.b)($.b,e),startAdmin:Object(a.b)(K.b,e),stopAdmin:Object(a.b)(K.c,e),addEditable:Object(a.b)(_.b,e),cleanEditable:Object(a.b)(_.c,e)}}))(L)}}]);