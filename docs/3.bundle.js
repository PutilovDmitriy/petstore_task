(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{132:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i}));var l=n(133),o=function(e,t,n,a,r,l,o,c){return{id:e&&0,username:t,firstName:n,lastName:a,email:r,password:l,phone:o,userStatus:c&&0}},c=function(e,t,n,a,r,l){return{id:e,petId:t,quantity:n,shipDate:a,status:r,complete:l}},i=function(e,t,n,r,l,o){var c=[];return 0!==l.length&&l.map((function(e,t){return c=[].concat(a(c),[{id:t,name:e}])})),{id:e,category:{id:1,name:t},name:n,photoUrls:r,tags:c,status:o}}},144:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(35),l=n(16),o=n(0),c=n.n(o),i=n(13),u=o.createContext({}),m=function(){var e=Object(o.useContext)(u),t=e.cancelAuthorization,n=e.userInfo;return c.a.createElement("div",{className:"profile"},c.a.createElement("div",null,c.a.createElement("h2",null,(null==n?void 0:n.lastName)?n.lastName:"Иванов"),c.a.createElement("h2",null,(null==n?void 0:n.firstName)?n.firstName:"Иван")),c.a.createElement("button",{onClick:function(){t&&t()}},"Выйти"))},d=n(132),s=n(75),f=n.n(s),p=[{id:"placed",name:"Размещен"},{id:"approved",name:"Одобрен"},{id:"delivered",name:"Доставлен"}],b=function(e){var t,n=e.orderInfo,a=e.handleDelete,r=e.onEditMode;return o.createElement("div",null,o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Номер заказа:  "),o.createElement("p",null,null==n?void 0:n.id)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("p",null,Object(d.a)(null==n?void 0:n.shipDate,"dd.mm.yy"))),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("p",null,null==n?void 0:n.quantity)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("p",null,null===(t=p.find((function(e){return e.id==(null==n?void 0:n.status)})))||void 0===t?void 0:t.name)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус:  "),o.createElement("p",null,(null==n?void 0:n.complete)?"Заказ завершен":"Заказ не завершен")),o.createElement("span",{className:"buttonSaveAndEdit"},o.createElement("button",{className:"edit",onClick:r},"Изменить заказ"),o.createElement("button",{className:"remove",onClick:a},"Отменить заказ")))},v=function(e){var t=e.petId,n=e.quantity,a=e.shipDate,r=e.status,l=e.complite,c=e.isValid,i=e.handleChange,u=e.handleValid,m=e.handleUpdate,d=e.handleComplite,s=e.handleUncomplite;return o.createElement("div",null,o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Номер животного:  "),o.createElement("input",{min:1,type:"number",name:"petId",value:t,onChange:i,onKeyUp:u})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("input",{type:"datetime-local",name:"shipDate",value:a,onChange:i})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("input",{min:1,type:"number",name:"quantity",value:n,onChange:i,onKeyUp:u})),o.createElement("span",{className:"textRow radioRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"placed",checked:"placed"==r,onChange:i}),o.createElement("label",null,"Размещен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"approved",checked:"approved"==r,onChange:i}),o.createElement("label",null,"Одобрен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"delivered",checked:"delivered"==r,onChange:i}),o.createElement("label",null,"Доставлен"))),o.createElement("span",{className:"textRow buttonRow"},o.createElement("h2",null,"Статус заказа:   "),o.createElement("span",{className:"buttonGroup"},o.createElement("button",{onClick:d,className:l?"compliteOrder":""},"Завершен"),o.createElement("button",{onClick:s,className:l?"":"uncompliteOrder"},"Незавершен"))),o.createElement("span",{className:"buttonSaveEdit"},o.createElement("button",{className:c?"buttonColor":"",onClick:m},"Сохранить")))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h=function(){var e=o.useContext(u),t=e.getOrder,n=e.orderInfo,a=e.loadingOrder,r=e.errorOrder,l=e.deleteOrder,c=e.updateOrder,i=y(o.useState(0),2),m=i[0],s=i[1],p=y(o.useState(0),2),E=p[0],h=p[1],g=y(o.useState(0),2),S=g[0],O=g[1],A=y(o.useState(""),2),w=A[0],N=A[1],j=y(o.useState("placed"),2),C=j[0],x=j[1],I=y(o.useState(!1),2),k=I[0],M=I[1],P=y(o.useState(!1),2),R=P[0],D=P[1],U=y(o.useState(!0),2),T=U[0],F=U[1];o.useEffect((function(){null!=n&&(h(null==n?void 0:n.petId),O(null==n?void 0:n.quantity),N(n.shipDate.slice(0,16)),x(n.status),M(n.complete))}),[n]);var V=function(){return D(!1)},q=function(e){switch(e.target.name){case"search":s(Number(e.target.value));break;case"petId":e.target.value&&h(Number(e.target.value)),e.target.value||h(void 0),"0"===e.target.value&&h(1);break;case"quantity":e.target.value&&O(Number(e.target.value)),e.target.value||O(void 0),"0"===e.target.value&&O(1);break;case"shipDate":N(e.target.value);break;case"status":"placed"!=e.target.value&&"approved"!=e.target.value&&"delivered"!=e.target.value||x(e.target.value)}};return o.createElement("div",{className:"ordersBlock"},o.createElement("div",{className:"search"},o.createElement("form",{onSubmit:function(e){t&&t(m),e.preventDefault(),V()}},o.createElement("input",{name:"search",type:"text",placeholder:"Номер заказа",value:m||"",onChange:q}),o.createElement("button",{type:"submit"},"Найти"))),a?o.createElement(f.a,{type:"spin",color:"red",height:"30%",width:"30%",className:"loadingOrder"}):o.createElement(o.Fragment,null,null!==n?R?o.createElement(v,{petId:E,quantity:S,shipDate:w,status:C,complite:k,isValid:T,handleChange:q,handleValid:function(){F(void 0!==E&&void 0!==S)},handleUpdate:function(){c&&void 0!==n&&void 0!==E&&void 0!==S&&c(Object(d.d)(m,E,S,w,C,k)),V()},handleComplite:function(){return M(!0)},handleUncomplite:function(){return M(!1)}}):o.createElement(b,{orderInfo:n,handleDelete:function(){l&&l(m)},onEditMode:function(){return D(!0)}}):404==r&&o.createElement("h1",null,"Заказ не найден")))},g=function(e){var t=e.color;return o.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 773 773",width:"50px",fill:t},o.createElement("path",{d:"M386.5,215.67A74.94,74.94,0,0,0,312.73,278H460.27A74.94,74.94,0,0,0,386.5,215.67Z"}),o.createElement("path",{d:"M386.5,9c-207.11,0-375,167.89-375,375s167.89,375,375,375,375-167.89,375-375S593.61,9,386.5,9ZM539.24,552.33H523.66v15.58a15.59,15.59,0,0,1-31.18,0V552.33H476.9a15.59,15.59,0,1,1,0-31.17h15.58V505.57a15.59,15.59,0,0,1,31.18,0v15.59h15.58a15.59,15.59,0,1,1,0,31.17Zm15.59-109.1a15.59,15.59,0,0,1-31.17,0v-134H492.48V356a15.59,15.59,0,0,1-31.17,0V309.19H311.69V356a15.59,15.59,0,0,1-31.17,0V309.19H249.34V552.33H414.55a15.59,15.59,0,1,1,0,31.17H233.76a15.59,15.59,0,0,1-15.59-15.59V293.6A15.58,15.58,0,0,1,233.76,278h47.49a106,106,0,0,1,210.5,0h47.49a15.58,15.58,0,0,1,15.59,15.58Z"}),o.createElement("ellipse",{cx:"378.5",cy:"391",rx:"2.5",ry:"3"}))},S=function(e){var t=e.color;return o.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 300 300",width:"50px",height:"50px",fill:t},o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003    S232.835,0,149.996,0z M221.302,107.945l-14.247,14.247l-29.001-28.999l-11.002,11.002l29.001,29.001l-71.132,71.126    l-28.999-28.996L84.92,186.328l28.999,28.999l-7.088,7.088l-0.135-0.135c-0.786,1.294-2.064,2.238-3.582,2.575l-27.043,6.03    c-0.405,0.091-0.817,0.135-1.224,0.135c-1.476,0-2.91-0.581-3.973-1.647c-1.364-1.359-1.932-3.322-1.512-5.203l6.027-27.035    c0.34-1.517,1.286-2.798,2.578-3.582l-0.137-0.137L192.3,78.941c1.678-1.675,4.404-1.675,6.082,0.005l22.922,22.917    C222.982,103.541,222.982,106.267,221.302,107.945z","data-original":"#000000","data-old_color":"#000000",fill:"#FFFFFF"}))))," ")},O=n(142),A=n.p+"2187f335984c21a5d185af743300b3e5.png";function w(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=function(e){var t=e.info,n=e.modalOpen,a=e.id,r=e.url,l=N(o.useState("#ffffff"),2),c=l[0],m=l[1],d=N(o.useState(!1),2),s=d[0],f=d[1],p=N(o.useState(["def"]),2),b=p[0],v=p[1],y=Object(i.g)(),E=o.useContext(u),h=E.admin,j=E.addEditable;o.useEffect((function(){r.length>=1&&v(w(r))}),[r]);var C=function(){return m("#ff1744")},x=function(){return m("#ffffff")},I=function(){b.length>1&&v(w(b.slice(1))),1!=b.length||s||(v([A]),f(!0))};return o.createElement("div",{className:"pet"},o.createElement(O.a,{defaultControlsConfig:{nextButtonText:">",prevButtonText:"<",pagingDotsStyle:{fill:"#сссссс"}}},b.map((function(e,t){return o.createElement("img",{key:t,src:e,onError:I,className:"imgPet"})}))),o.createElement("div",{className:"footerPet"},void 0!==t&&void 0!==t.category?o.createElement("span",{className:"namePet"},o.createElement("h3",null,void 0!==t.category.name?t.category.name:"Животное"),o.createElement("h3",null,void 0!==t.name?t.name:"Name")):o.createElement("h3",null,"Данные отсутсвуют"),h?o.createElement("span",{onClick:function(){j&&j(t),y.push("/edit")},onMouseDown:C,onMouseUp:x},o.createElement(S,{color:c})):o.createElement("span",{onClick:function(){void 0!==t.category.name&&void 0!==t.name&&void 0!==t&&n({id:a,cName:t.category.name,name:t.name,quantity:0})},onMouseDown:C,onMouseUp:x},o.createElement(g,{color:c}))))},I=n(141),k=n(26);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var R=function(e){var t=e.data,n=e.modalClose,a=e.handleModalSend,r=e.quantity,l=e.handleEdit,c=M(o.useState(!0),2),i=c[0],u=c[1];return null!==t?o.createElement("div",{className:"modalOverlay"},o.createElement("div",{className:"modal"},o.createElement("h1",null,t.cName),o.createElement("h2",null,t.name),o.createElement("label",null,"Количество"),o.createElement("input",{min:1,type:"number",value:r,onChange:l,onKeyUp:function(){u(void 0!==r)},placeholder:"Количество"}),o.createElement("span",{className:"buttonSaveAndEdit"},o.createElement("button",{className:i?"edit":"",onClick:a,disabled:!i},"Заказать"),o.createElement("button",{className:"remove",onClick:n},"Отменить")))):o.createElement("h1",null,"В данный момент товар заказать нельзя")},D=function(e){var t=e.text,n=e.order;return o.createElement("div",{className:"modalOverlay"},o.createElement("div",{className:"modalMessage"},o.createElement("h1",null,t),n&&o.createElement("h2",null,'Отследить ваш заказ можнно во вкладке "Заказ"')))};function U(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var q=function(){var e=o.useContext(u),t=e.petData,n=e.addOrder,a=T(o.useState([]),2),r=a[0],l=a[1],c=T(o.useState(!0),2),i=c[0],m=c[1],s=T(o.useState(12),2),f=s[0],p=s[1],b=T(o.useState(24),2),v=b[0],y=b[1],E=T(o.useState(!1),2),h=E[0],g=E[1],S=T(o.useState(null),2),O=S[0],A=S[1],w=T(o.useState(1),2),N=w[0],j=w[1],C=T(o.useState(!1),2),M=C[0],P=C[1],F=T(o.useState(1),2),V=F[0],q=F[1];o.useEffect((function(){l(void 0!==t?U(t.slice(0,12)):[])}),[t]);var H=function(e){g(!0),A(e)},$=function(){g(!1),A(null),j(1),setTimeout((function(){P(!1),q(1)}),3e3)};return o.createElement(o.Fragment,null,void 0!==t?o.createElement(I.a,{className:"infiniteScroll",dataLength:r.length,next:function(){if(void 0!==t){if(r.length>=(null==t?void 0:t.length))return void m(!1);l([].concat(U(r),U(t.slice(f,v)))),p(v),y(v+12)}},hasMore:i,loader:o.createElement(k.a,null),endMessage:o.createElement("p",{style:{textAlign:"center"}},o.createElement("b",null,"Yay! You have seen it all"))},o.createElement("div",{className:"pets"},r.length>=1&&r.map((function(e,t){return o.createElement(x,{key:t,id:e.id,info:e,url:e.photoUrls,modalOpen:H})})))):o.createElement("h1",null,"Пусто"),h&&o.createElement(R,{data:O,handleModalSend:function(){if(null!==O&&void 0!==N){console.log("отправляю");var e=Math.floor(Math.random()*Math.floor(10))+1;q(e);var t=new Date;t.setDate(t.getDate()+10),n&&n(Object(d.d)(e,Number(O.id),N,t.toISOString(),"placed",!1)),$(),P(!0)}},modalClose:$,quantity:N,handleEdit:function(e){e.target.value&&j(Number(e.target.value)),e.target.value||j(void 0),"0"===e.target.value&&j(1)}}),M&&o.createElement(D,{text:"Номер вашего заказа ".concat(V),order:!0}))};function H(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var B=function(e){var t=e.selectedTags,n=e.initTags,a=$(Object(o.useState)([]),2),r=a[0],l=a[1];c.a.useEffect((function(){l(H(n))}),[n]);return c.a.createElement("div",{className:"tags-input"},c.a.createElement("ul",{id:"tags"},r.map((function(e,t){return c.a.createElement("li",{key:t,className:"tag"},c.a.createElement("span",{className:"tag-title"},e),c.a.createElement("span",{className:"tag-close-icon",onClick:function(){return e=t,void l(H(r.filter((function(t,n){return n!==e}))));var e}},"x"))}))),c.a.createElement("input",{type:"text",onKeyUp:function(e){return"Enter"===e.key?function(e){r.length>10?alert("Вы не можете добавить более 10 записей!"):""!==e.target.value&&(l([].concat(H(r),[e.target.value])),t([].concat(H(r),[e.target.value])),e.target.value="")}(e):null},placeholder:"Нажмите Enter, чтобы добавить тег"}))};function L(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Y=function(){var e=Z(o.useState(""),2),t=e[0],n=e[1],a=Z(o.useState(""),2),r=a[0],l=a[1],c=Z(o.useState(""),2),m=c[0],s=c[1],f=Z(o.useState([]),2),p=f[0],b=f[1],v=Z(o.useState([]),2),y=v[0],E=v[1],h=Z(o.useState("available"),2),g=h[0],S=h[1],O=Z(o.useState(!0),2),A=O[0],w=O[1],N=Z(o.useState(!1),2),j=N[0],C=N[1],x=Object(i.g)(),I=o.useContext(u),k=I.editablePet,M=I.addPet,P=I.updatePet,R=I.deletePet;o.useEffect((function(){void 0===k||j||(n(null==k?void 0:k.id),l(k.category.name),s(k.name),b(k.photoUrls),k.tags.map((function(e){E([].concat(L(y),[e.name]))})),S(k.status))}),[j]);var D=function(e){switch(e.target.name){case"category":l(e.target.value);break;case"name":s(e.target.value);break;case"status":"available"!=e.target.value&&"pending"!=e.target.value&&"sold"!=e.target.value||S(e.target.value)}},U=function(){""!==r.trim()&&""!==m.trim()&&""!==g.trim()?w(!0):w(!1)};return o.createElement("div",{className:"petInfo"},o.createElement("h1",null,"Редактирование питомца: "),o.createElement("h1",null,m),o.createElement("label",null,"Код питомца: ",t),o.createElement("label",null,o.createElement("span",null,"Категория"),o.createElement("input",{type:"text",name:"category",placeholder:"Кот",value:r,onChange:D,onKeyUp:U})),o.createElement("label",null,o.createElement("span",null,"Имя питомца"),o.createElement("input",{type:"text",name:"name",placeholder:"Барсик",value:m,onChange:D,onKeyUp:U})),o.createElement("label",null,o.createElement("span",null,"Фотографии (url)"),o.createElement(B,{selectedTags:function(e){E(e)},initTags:p})),o.createElement("label",null,o.createElement("span",null,"Теги"),o.createElement(B,{selectedTags:function(e){b(e)},initTags:y})),o.createElement("label",null,o.createElement("span",null,"Статус"),o.createElement("div",{className:"pet-status"},o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"available",checked:"available"==g,onChange:D,onMouseDown:U}),o.createElement("label",null,"В наличии")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"pending",checked:"pending"==g,onChange:D,onMouseDown:U}),o.createElement("label",null,"В ожидании")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"sold",checked:"sold"==g,onChange:D,onMouseDown:U}),o.createElement("label",null,"Распродан")))),o.createElement("div",{className:"button-group"},o.createElement("button",{className:A?"save":"",disabled:!A,onClick:function(){j||P&&P(Object(d.b)(t,r,m,p,y,g)),j&&M&&M(Object(d.b)(t,r,m,p,y,g)),x.push("/")}},"Сохранить изменения"),j?o.createElement("button",{className:"remove",onClick:function(){C(!1),w(!0)}},"Отменить"):o.createElement("button",{className:"remove",onClick:function(){R&&R(t),x.push("/")}},"Удалить"),o.createElement("button",{className:"add",onClick:function(){C(!0),n("----"),l(""),s(""),b([]),E([]),S("available"),w(!1)}},"Добавить нового")))},G=function(e){var t=e.admin,n=Object(i.h)().path;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{exact:!0,path:"".concat(n)},c.a.createElement(q,null)),c.a.createElement(i.b,{path:"".concat(n,"order")},c.a.createElement(h,null)),c.a.createElement(i.b,{path:"".concat(n,"edit")},t?c.a.createElement(Y,null):c.a.createElement(i.a,{to:"".concat(n)})),c.a.createElement(i.b,{path:"".concat(n,"profile")},c.a.createElement(m,null)))},Q=n(28),W=function(e){var t=e.admin,n=e.startAdmin,a=e.stopAdmin,r=Object(i.h)().url;return o.createElement("nav",null,o.createElement("div",null,o.createElement(Q.b,{to:"".concat(r)},"Главная")),o.createElement("div",null,o.createElement(Q.b,{to:"".concat(r,"order")},"Заказы")),o.createElement("div",{className:"admin"},o.createElement("button",{className:t?"on":"",onClick:n},"on Admin"),o.createElement("button",{className:t?"":"off",onClick:a},"off Admin")),o.createElement("div",null,o.createElement(Q.b,{to:"".concat(r,"profile")},"Профиль")))},X=function(e){var t=e.cancelAuthorization,n=e.userInfo,a=e.getOrder,r=e.orderInfo,l=e.loadingOrder,c=e.errorOrder,i=e.addOrder,m=e.deleteOrder,d=e.updateOrder,s=e.petData,f=e.getPetInfo,p=e.loadingPets,b=e.admin,v=e.startAdmin,y=e.stopAdmin,E=e.editablePet,h=e.addEditable,g=e.cleanEditable,S=e.addPet,O=e.deletePet,A=e.updatePet,w=e.errorPet,N=e.petFailure;return o.useEffect((function(){f&&f("available")}),[]),null!==w&&(console.log("eeror null"),setTimeout((function(){N(null)}),4e3)),o.createElement(o.Fragment,null,o.createElement(u.Provider,{value:{cancelAuthorization:t,userInfo:n,getOrder:a,orderInfo:r,loadingOrder:l,errorOrder:c,deleteOrder:m,addOrder:i,updateOrder:d,petData:s,admin:b,editablePet:E,addEditable:h,cleanEditable:g,addPet:S,deletePet:O,updatePet:A}},o.createElement(W,{admin:b,startAdmin:v,stopAdmin:y}),p?o.createElement(k.a,null):o.createElement(G,{admin:b}),402==w?o.createElement(D,{text:"Добавление не удалось"}):403==w?o.createElement(D,{text:"Изненение не удалось"}):404==w?o.createElement(D,{text:"Удаление не удалось"}):null))},ee=n(17),te=n(18),ne=n(48),ae=n(49);t.default=Object(r.b)((function(e){return{userInfo:e.userReducer.info,orderInfo:e.orderReducer.info,loadingOrder:e.orderReducer.loading,errorOrder:e.orderReducer.error,petData:e.petReducer.info,loadingPets:e.petReducer.loading,admin:e.adminReducer,editablePet:e.editablePetReducer,errorPet:e.petReducer.error}}),(function(e){return{cancelAuthorization:Object(a.b)(l.b,e),getOrder:Object(a.b)(ee.d,e),addOrder:Object(a.b)(ee.b,e),deleteOrder:Object(a.b)(ee.c,e),updateOrder:Object(a.b)(ee.e,e),getPetInfo:Object(a.b)(te.d,e),startAdmin:Object(a.b)(ne.b,e),stopAdmin:Object(a.b)(ne.c,e),addEditable:Object(a.b)(ae.b,e),cleanEditable:Object(a.b)(ae.c,e),addPet:Object(a.b)(te.b,e),updatePet:Object(a.b)(te.f,e),deletePet:Object(a.b)(te.c,e),petFailure:Object(a.b)(te.e,e)}}))(X)}}]);