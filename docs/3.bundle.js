(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{131:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var r=n(132),a=function(e,t,n,r,a,l,o,c){return{id:e&&0,username:t,firstName:n,lastName:r,email:a,password:l,phone:o,userStatus:c&&0}},l=function(e,t,n,r,a,l){return{id:e,petId:t,quantity:n,shipDate:r,status:a,complete:l}}},143:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(35),l=n(16),o=n(0),c=n.n(o),u=n(13),i=o.createContext({}),d=function(e){var t=Object(o.useContext)(i),n=t.cancelAuthorization,r=t.userInfo;return c.a.createElement("div",{className:"profile"},c.a.createElement("div",null,c.a.createElement("h1",null,"".concat(null==r?void 0:r.lastName," ").concat(null==r?void 0:r.firstName))),c.a.createElement("button",{onClick:function(){n&&n()}},"Выйти"))},m=n(131),s=n(74),f=n.n(s),p=[{id:"placed",name:"Размещен"},{id:"approved",name:"Одобрен"},{id:"delivered",name:"Доставлен"}],v=function(e){var t,n=e.orderInfo,r=e.handleDelete,a=e.onEditMode;return o.createElement("div",null,o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Номер заказа:  "),o.createElement("p",null,null==n?void 0:n.id)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("p",null,Object(m.a)(null==n?void 0:n.shipDate,"dd.mm.yy"))),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("p",null,null==n?void 0:n.quantity)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("p",null,null===(t=p.find((function(e){return e.id==(null==n?void 0:n.status)})))||void 0===t?void 0:t.name)),o.createElement("span",{className:"textRow"},o.createElement("h2",null,"Cтатус:  "),o.createElement("p",null,(null==n?void 0:n.complete)?"Заказ завершен":"Заказ не завершен")),o.createElement("span",{className:"buttonSaveAndEdit"},o.createElement("button",{className:"edit",onClick:a},"Изменить заказ"),o.createElement("button",{className:"remove",onClick:r},"Отменить заказ")))},E=function(e){var t=e.petId,n=e.quantity,r=e.shipDate,a=e.status,l=e.complite,c=e.isValid,u=e.handleChange,i=e.handleValid,d=e.handleUpdate,m=e.handleComplite,s=e.handleUncomplite;return o.createElement("div",null,o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Номер животного:  "),o.createElement("input",{min:1,type:"number",name:"petId",value:t,onChange:u,onKeyUp:i})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Дата доставки:   "),o.createElement("input",{type:"datetime-local",name:"shipDate",value:r,onChange:u})),o.createElement("span",{className:"textRow inputRow"},o.createElement("h2",null,"Колличество:  "),o.createElement("input",{min:1,type:"number",name:"quantity",value:n,onChange:u,onKeyUp:i})),o.createElement("span",{className:"textRow radioRow"},o.createElement("h2",null,"Cтатус доставки:  "),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"placed",checked:"placed"==a,onChange:u}),o.createElement("label",null,"Размещен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"approved",checked:"approved"==a,onChange:u}),o.createElement("label",null,"Одобрен")),o.createElement("span",{className:"radio"},o.createElement("input",{name:"status",type:"radio",value:"delivered",checked:"delivered"==a,onChange:u}),o.createElement("label",null,"Доставлен"))),o.createElement("span",{className:"textRow buttonRow"},o.createElement("h2",null,"Статус заказа:   "),o.createElement("span",{className:"buttonGroup"},o.createElement("button",{onClick:m,className:l?"compliteOrder":""},"Завершен"),o.createElement("button",{onClick:s,className:l?"":"uncompliteOrder"},"Незавершен"))),o.createElement("span",{className:"buttonSaveEdit"},o.createElement("button",{className:c?"buttonColor":"",onClick:d},"Сохранить")))};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=o.useContext(i),n=t.getOrder,r=t.orderInfo,a=t.loadingOrder,l=t.errorOrder,c=t.deleteOrder,u=t.updateOrder,d=h(o.useState(0),2),s=d[0],p=d[1],b=h(o.useState(0),2),y=b[0],g=b[1],O=h(o.useState(0),2),w=O[0],S=O[1],C=h(o.useState(""),2),N=C[0],A=C[1],x=h(o.useState("placed"),2),I=x[0],j=x[1],R=h(o.useState(!1),2),D=R[0],k=R[1],M=h(o.useState(!1),2),V=M[0],U=M[1],H=h(o.useState(!0),2),P=H[0],q=H[1];o.useEffect((function(){null!=r&&(g(null==r?void 0:r.petId),S(null==r?void 0:r.quantity),A(r.shipDate.slice(0,16)),j(r.status),k(r.complete))}),[r]);var T=function(e){switch(e.target.name){case"search":p(Number(e.target.value));break;case"petId":e.target.value&&g(Number(e.target.value)),e.target.value||g(void 0),"0"===e.target.value&&g(1);break;case"quantity":e.target.value&&S(Number(e.target.value)),e.target.value||S(void 0),"0"===e.target.value&&S(1);break;case"shipDate":A(e.target.value);break;case"status":"placed"!=e.target.value&&"approved"!=e.target.value&&"delivered"!=e.target.value||j(e.target.value)}};return o.createElement("div",{className:"ordersBlock"},o.createElement("div",{className:"search"},o.createElement("form",{onSubmit:function(e){n&&n(s),e.preventDefault()}},o.createElement("input",{name:"search",type:"text",placeholder:"Номер заказа",value:s||"",onChange:T}),o.createElement("button",{type:"submit"},"Найти"))),a?o.createElement(f.a,{type:"spin",color:"red",height:"30%",width:"30%",className:"loadingOrder"}):o.createElement(o.Fragment,null,null!==r?V?o.createElement(E,{petId:y,quantity:w,shipDate:N,status:I,complite:D,isValid:P,handleChange:T,handleValid:function(){q(void 0!==y&&void 0!==w)},handleUpdate:function(){u&&void 0!==r&&void 0!==y&&void 0!==w&&u(Object(m.c)(s,y,w,N,I,D)),U(!1)},handleComplite:function(){return k(!0)},handleUncomplite:function(){return k(!1)}}):o.createElement(v,{orderInfo:r,handleDelete:function(){c&&c(s)},onEditMode:function(){return U(!0)}}):404==l&&o.createElement("h1",null,"Заказ не найден")))},g=function(e){var t=e.color;return o.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 773 773",width:"50px",fill:t},o.createElement("path",{d:"M386.5,215.67A74.94,74.94,0,0,0,312.73,278H460.27A74.94,74.94,0,0,0,386.5,215.67Z"}),o.createElement("path",{d:"M386.5,9c-207.11,0-375,167.89-375,375s167.89,375,375,375,375-167.89,375-375S593.61,9,386.5,9ZM539.24,552.33H523.66v15.58a15.59,15.59,0,0,1-31.18,0V552.33H476.9a15.59,15.59,0,1,1,0-31.17h15.58V505.57a15.59,15.59,0,0,1,31.18,0v15.59h15.58a15.59,15.59,0,1,1,0,31.17Zm15.59-109.1a15.59,15.59,0,0,1-31.17,0v-134H492.48V356a15.59,15.59,0,0,1-31.17,0V309.19H311.69V356a15.59,15.59,0,0,1-31.17,0V309.19H249.34V552.33H414.55a15.59,15.59,0,1,1,0,31.17H233.76a15.59,15.59,0,0,1-15.59-15.59V293.6A15.58,15.58,0,0,1,233.76,278h47.49a106,106,0,0,1,210.5,0h47.49a15.58,15.58,0,0,1,15.59,15.58Z"}),o.createElement("ellipse",{cx:"378.5",cy:"391",rx:"2.5",ry:"3"}))},O=n(141),w=n.p+"2187f335984c21a5d185af743300b3e5.png";function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=S(o.useState("#ffffff"),2),n=t[0],r=t[1],a=S(o.useState(!1),2),l=a[0],c=a[1],u=S(o.useState(""),2),i=u[0],d=u[1];return o.createElement("div",{className:"pet"},o.createElement(O.a,{defaultControlsConfig:{nextButtonText:">",prevButtonText:"<",pagingDotsStyle:{fill:"red"}}},o.createElement("img",{src:i,onError:function(){l||(d(w),c(!0))},className:"imgPet"})),o.createElement("div",{className:"footerPet"},o.createElement("h3",null,"Животное"),o.createElement("span",{onMouseDown:function(){return r("#ff1744")},onMouseUp:function(){return r("#ffffff")}},o.createElement(g,{color:n}))))},A=n(140),x=n(26);function I(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return n}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){var e=o.useContext(i).petData,t=j(o.useState([]),2),n=t[0],r=t[1],a=j(o.useState(!0),2),l=a[0],c=a[1],u=j(o.useState(12),2),d=u[0],m=u[1],s=j(o.useState(24),2),f=s[0],p=s[1];console.log(n),o.useEffect((function(){r(void 0!==e?I(e.slice(0,12)):[])}),[e]);return void 0!==e?o.createElement(A.a,{className:"infiniteScroll",dataLength:n.length,next:function(){if(void 0!==e){if(n.length>=(null==e?void 0:e.length))return void c(!1);r([].concat(I(n),I(e.slice(d,f)))),m(f),p(f+12)}},hasMore:l,loader:o.createElement(x.a,null),endMessage:o.createElement("p",{style:{textAlign:"center"}},o.createElement("b",null,"Yay! You have seen it all"))},o.createElement("div",{className:"pets"},n.map((function(e){return o.createElement(N,{key:e.id})})))):o.createElement("h1",null,"Пусто")},M=function(e){var t=Object(u.h)().path;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.b,{exact:!0,path:"".concat(t)},c.a.createElement(k,null)),c.a.createElement(u.b,{path:"".concat(t,"order")},c.a.createElement(y,null)),c.a.createElement(u.b,{path:"".concat(t,"cart")},c.a.createElement("h1",null,"cart")),c.a.createElement(u.b,{path:"".concat(t,"profile")},c.a.createElement(d,null)))},V=n(28),U=function(e){var t=Object(u.h)().url;return o.createElement("nav",null,o.createElement("div",null,o.createElement(V.b,{to:"".concat(t)},"Home")),o.createElement("div",null,o.createElement(V.b,{to:"".concat(t,"order")},"Order")),o.createElement("div",null,o.createElement(V.b,{to:"".concat(t,"cart")},"Cart")),o.createElement("div",null,o.createElement(V.b,{to:"".concat(t,"profile")},"Profile")))},H=function(e){var t=e.cancelAuthorization,n=e.userInfo,r=e.getOrder,a=e.orderInfo,l=e.loadingOrder,c=e.errorOrder,u=e.cartData,d=e.addCart,m=e.removeCart,s=e.cleanCart,f=e.deleteOrder,p=e.updateOrder,v=e.petData,E=e.getPetInfo,h=e.loadingPets;return o.useEffect((function(){E&&E("available")}),[]),o.createElement(o.Fragment,null,o.createElement(i.Provider,{value:{cancelAuthorization:t,userInfo:n,getOrder:r,orderInfo:a,loadingOrder:l,errorOrder:c,cartData:u,addCart:d,removeCart:m,cleanCart:s,deleteOrder:f,updateOrder:p,petData:v}},o.createElement(U,null),h?o.createElement(x.a,null):o.createElement(M,null)))},P=n(17),q=n(36),T=n(18);t.default=Object(a.b)((function(e){return{userInfo:e.userReducer.info,orderInfo:e.orderReducer.info,loadingOrder:e.orderReducer.loading,errorOrder:e.orderReducer.error,cartData:e.cartReducer,petData:e.petReducer.info,loadingPets:e.petReducer.loading}}),(function(e){return{cancelAuthorization:Object(r.b)(l.b,e),getOrder:Object(r.b)(P.c,e),deleteOrder:Object(r.b)(P.b,e),updateOrder:Object(r.b)(P.d,e),addCart:Object(r.b)(q.b,e),removeCart:Object(r.b)(q.d,e),cleanCart:Object(r.b)(q.c,e),getPetInfo:Object(r.b)(T.b,e)}}))(H)}}]);